/* Write your global styles here, in PostCSS syntax */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  @font-face {
    font-family: 'PhanQuangCalligraphr';
    src: url(/fonts/PhanQuangCalligraphr-Regular.ttf) format("truetype");
  }

  :root {
    --color-toggle-bg: theme('colors.toggle.bg.DEFAULT');
    --cursorX: 50vw;
    --cursorY: 50vh;
  }

  html {
    @apply h-full bg-bg bg-paper text-fg;

    scroll-behavior: smooth;
  }

  body {
    @apply relative h-full w-full;
  }

  svg {
    fill: currentColor;
  }

  *:disabled {
    cursor: not-allowed;
  }

  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  input:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 30px theme('colors.bg.DEFAULT') inset !important;
    -webkit-text-fill-color: theme('colors.fg') !important;
  }
}

@layer utilities {
  .text-ellipsis {
    @apply overflow-hidden overflow-ellipsis whitespace-nowrap;
  }
  .inset-center {
    @apply top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2;
  }
  .border-letter {
    border: 10px solid transparent;
    border-image: 10 repeating-linear-gradient(-45deg,
    red 0, red 1em,
    transparent 0, transparent 2em,
    #58a 0, #58a 3em,
    transparent 0, transparent 4em);
  }
}

@layer components {
  .c-toggle {
    --toggle-offset: 1.5rem;

    @apply h-6 w-12 cursor-pointer appearance-none bg-toggle-fg bg-opacity-20;
    @apply rounded-3xl border border-toggle-fg border-opacity-20;
    box-shadow: var(--color-toggle-bg) calc(-1 * var(--toggle-offset)) 0px 0px 2px inset,
      var(--color-toggle-bg) 0px 0px 0px 2px inset;
    transition: background, box-shadow 200ms ease-in-out;

    &:focus-visible {
      outline: 2px solid var(--color-toggle-bg);
      outline-offset: 2px;
    }

    &:checked,
    &[checked='true'] {
      @apply border-opacity-100 bg-opacity-100;
      box-shadow: var(--color-toggle-bg) var(--toggle-offset) 0px 0px 2px inset,
        var(--color-toggle-bg) 0px 0px 0px 2px inset;
    }

    &.c-toggle-xs {
      --toggle-offset: 0.5rem;
      @apply h-4 w-6;
    }
    &.c-toggle-sm {
      --toggle-offset: 0.75rem;
      @apply h-5 w-8;
    }
    &.c-toggle-md {
      --toggle-offset: 1.5rem;
      @apply h-6 w-12;
    }
    &.c-toggle-lg {
      --toggle-offset: 2rem;
      @apply h-8 w-16;
    }
  }
  .c-toggle-primary {
    --color-toggle-bg: theme('colors.toggle.bg.primary');
    @apply c-toggle border-toggle-fg-primary border-opacity-20 bg-toggle-fg-primary bg-opacity-20;
  }

  .c-link {
    @apply hover:text-primary underline;
  }

  .c-btn {
    @apply cursor-pointer border bg-bg border-primary py-2 px-4 rounded-lg hover:bg-primary hover:text-bg active:text-bg active:bg-primary-active;
  }
  .c-btn-icon {
    @apply cursor-pointer transition-transform hover:text-primary active:scale-95;
  }
  .c-btn-link {
    @apply cursor-pointer hover:bg-primary p-2 rounded hover:text-bg grid place-items-center;
  }
}
